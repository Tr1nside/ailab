<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %}</title>

    <link rel="stylesheet" href="{{ url_for('static', filename='css/base.css') }}">
    <link rel="stylesheet" href="{{ url_for('static', filename='css/messenger.css') }}">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/4.7.2/socket.io.min.js"></script>
    

    {% block styles %}
    {% endblock %}

    
</head>

<body>
    <div class="header">
        {% if current_endpoint != 'main_bp.ide' %}
        <div class="ide-link"><a href="{{ url_for('main_bp.ide') }}">ðŸ’»</a></div>
        {% endif %}
        <div class="center-pos">
            <div class="logo-block">
                <img src="{{ url_for('static', filename='img/logo.png') }}" class="logo-style">
                <div class="header-title">AiLab WEB</div>
            </div>
            {% if current_endpoint != 'main_bp.profile' %}
            <a href="{{ url_for('main_bp.profile', id=current_user.id) }}" class="profile-icon">
                <img src="{{ url_for('static', filename='uploads/' + current_user.profile.profile_photo) }}" alt="ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ">
            </a>    
            {% endif %}
            {% if current_endpoint == 'main_bp.profile' and (id is not defined or id != current_user.id) %}
            <a href="{{ url_for('main_bp.profile', id=current_user.id) }}" class="profile-icon">
                <img src="{{ url_for('static', filename='uploads/' + current_user.profile.profile_photo) }}" alt="ÐŸÑ€Ð¾Ñ„Ð¸Ð»ÑŒ">
            </a>
            {% endif %}
        </div>
        
        <div class="messenger-icon">
            <span class="badge hidden" id="unread-count">0</span>
            ðŸ’¬
        </div>

        <div class="night-mode">ðŸŒ™</div>
    </div>

    {% block content %}
    {% endblock %}

        <div class="messenger-container" id="messenger-container">
            <div class="messenger-header" id="messenger-header">
                <div class="search-container">
                    <input type="text" id="contact-search" placeholder="ÐŸÐ¾Ð¸ÑÐº ÐºÐ¾Ð½Ñ‚Ð°ÐºÑ‚Ð¾Ð²..." class="search-input">
                    <button id="close-messenger" class="close-button">Ã—</button>
                </div>
            </div>
            <div class="messenger-content" id="messenger-content"></div>
        </div>
    
    
    
    <script src="{{ url_for('static', filename='js/base.js') }}"></script>
    <script src="{{ url_for('static', filename='js/messenger.js') }}"></script>
    {% block scripts %}
    {% endblock %}
    <!-- Ð’ base.html Ð¿ÐµÑ€ÐµÐ´ Ð·Ð°ÐºÑ€Ñ‹Ð²Ð°ÑŽÑ‰Ð¸Ð¼ </body> -->
    
</body>

</html>